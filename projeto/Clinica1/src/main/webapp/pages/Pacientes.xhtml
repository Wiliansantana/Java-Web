<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" 
		content="text/html; charset=UTF-8" />
	<title>Pacientes</title>
</h:head>
<h:body>

<style>
		header {
		    top: 0%;
		    margin-bottom: 10px
		}
		
		.logo img{
		    position: absolute;
		    width: 200px
		}
		
		.imagemCardapio {
		    width: 400px;
		}
		
		.logo {
		    margin-bottom: 100px;
		    
		}
		
		.logo h1{
		    margin: auto;
		    width: 50%;
		    padding: 10px;
		    font-size: 50px;
		    color: #FF1493;
		    top: 50px;
		    position: relative;
		}
		
		.main{
		    margin-left: 50%;
		    width: 40%;
		    padding: 10px;
		    position: absolute;
		}
		
		.mainTexto {
		    margin-top: 5%;
		    width: 50%;
		    padding: 10px;
		    font-size: 20px;
		}
		
		ul {
		    list-style-type: none;
		    margin: 0;
		    padding: 0;
		    overflow: hidden;
		    background-color: #DA70D6;
		}
		
		li {
		    float: left;
		}
		
		li a {
		    display: block;
		    color: white;
		    text-align: center;
		    padding: 16px;
		    text-decoration: none;
		}
		
		li a:hover {
		    background-color: #111111;
		}
		
		footer {
		    margin-top: 20%;
		}
		
		footer > p {
		    text-align: center;
		    text-decoration: none;
		}
		
		.mapa {
		    width: 100%
		}
	</style>
	
	<header>
        <div class="logo">
            <img src="https://www.sindsemp.org.br/system/images/W1siZiIsIjIwMTcvMDUvMDQvN3lsdndtMXMzNl9sb2dvX2hhcm1vbml6YV9wYXJhX29fc2l0ZS5wbmciXSxbInAiLCJ0aHVtYiIsIjM3MHgiXV0/logo_harmoniza%20para%20o%20site.png?sha=f02687d2a0fd6861" alt="logo" />
            <center><h1> - Pacientes - </h1></center>
        </div>
        <nav>
            <ul>
                <li><a href="http://localhost:8080/Clinica/pages/index.xhtml">Home</a></li>
                <li><a href="http://localhost:8080/Clinica/pages/Atendimentos.xhtml">Atendimentos</a></li>
                <li><a href="http://localhost:8080/Clinica/pages/Consulta.xhtml">Consultas</a></li>
                <li><a href="http://localhost:8080/Clinica/pages/Especialidade.xhtml">Especialidades</a></li>
                <li><a href="http://localhost:8080/Clinica/pages/Medicos.xhtml">Médicos</a></li>
                <li><a href="http://localhost:8080/Clinica/pages/Pacientes.xhtml">Pacientes</a></li>
                <li><a href="http://localhost:8080/Clinica/pages/PlanoSaude.xhtml">Plano Saúde</a></li>
                
            </ul>
        </nav>
    </header>

<br></br><br></br><br></br><br></br><br></br>
	<p:growl id="mensagem" />

	<h:form id="formListagem">
		<p:panel header="Pacientes ">
			<p:dataTable id="tabela" 
				emptyMessage="Nenhum registro encontrado."
				paginator="true" value="#{pacientesBean.paciente}" 
				var="pacientes" rows="10">
				<f:facet name="header">
					<p:commandButton value="Novo" oncomplete="PF('dialogo').show();"
						actionListener="#{pacientesBean.novo}" update=":formCadastro:painel" />
				</f:facet>

				
				
				<p:column headerText="Nome" sortBy="#{pacientes.nome}"
					filterBy="#{pacientes.nome}">
					<h:outputText value="#{pacientes.nome}" />
				</p:column>
				
				<p:column headerText="Telefone" sortBy="#{pacientes.telefone}"
					filterBy="#{pacientes.telefone}">
					<h:outputText value="#{pacientes.telefone}" />
				</p:column>

				<p:column headerText="Endereco" sortBy="#{pacientes.endereco}"
					filterBy="#{pacientes.endereco}">
					<h:outputText value="#{pacientes.endereco}" />
				</p:column>
				
				<p:column headerText="Data Nascimento" sortBy="#{pacientes.dataNascimento}"
					filterBy="#{pacientes.dataNascimento}">
					<h:outputText value="#{pacientes.dataNascimento}" />
				</p:column>

				<p:column headerText="Profissao" sortBy="#{pacientes.profissao}"
					filterBy="#{pacientes.profissao}">
					<h:outputText value="#{pacientes.profissao}" />
				</p:column>

				<p:column headerText="Opções">
					<p:commandButton icon="ui-icon-trash"
						actionListener="#{pacientesBean.excluir}"
						update=":mensagem :formListagem:tabela">
						
						<p:confirm header="Confirmação" 
							message="Deseja excluir pacientes?"
							icon="ui-icon-alert" />
							
						<f:attribute name="pacientesSelecionado" value="#{pacientes}" />
					</p:commandButton>

					<p:commandButton icon="ui-icon-pencil"
						actionListener="#{pacientesBean.editar}"
						update=":formCadastro:painel"
						oncomplete="PF('dialogo').show();">
						<f:attribute name="pacientesSelecionado" value="#{pacientes}" />
					</p:commandButton>
				</p:column>
			</p:dataTable>

			<p:confirmDialog global="true">
				<p:commandButton value="Sim" type="button"
					styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
					
				<p:commandButton value="Não" type="button"
					styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
			</p:confirmDialog>
			
		</p:panel>
	</h:form>
	
	<!-- Dialog do Formaulario de Cadastro (Inclusão) -->

	<p:dialog header="pacientes - Cadastro" widgetVar="dialogo"
		draggable="false" resizable="false" modal="true" 
		closable="false">
		<h:form id="formCadastro">		
			<h:panelGrid id="painel" columns="2">			
				

				<p:outputLabel value="nome:" />
				<p:inputText maxlength="50" size="30" 
				value="#{pacientesBean.pacientes.nome}" />	
				
				<p:outputLabel value="telefone:" />
				<p:inputText maxlength="50" size="30" 
				value="#{pacientesBean.pacientes.telefone}" />
				
				<p:outputLabel value="endereco:" />
				<p:inputText maxlength="50" size="30" 
				value="#{pacientesBean.pacientes.endereco}" />	
				
				<p:outputLabel value="dataNascimento:" />
				<p:inputText maxlength="50" size="30" 
				value="#{pacientesBean.pacientes.dataNascimento}" />
				
				<p:outputLabel value="profissao:" />
				<p:inputText maxlength="50" size="30" 
				value="#{pacientesBean.pacientes.profissao}" />		
			</h:panelGrid>

			<h:panelGrid columns="2">
				<p:commandButton value="Salvar"	
						actionListener="#{pacientesBean.salvar}" 
		update=":mensagem :formCadastro:painel :formListagem:tabela" />
								
				<p:commandButton value="Fechar" 
					oncomplete="PF('dialogo').hide();" />
			</h:panelGrid>
		</h:form>
	</p:dialog>
	
	<footer>
        <hr/>
        <p>
           © Copyright 2019 - Harmoniza
        </p>
        
    </footer>
</h:body>
</html>
